# [BASE API URL](https://devdesk2eli.herokuapp.com/)

# [BW4 SCHEMA](https://dbdesigner.page.link/urgi8jQCzNMRBtiX8)

# [POSTMAN DOCUMENTATION](https://documenter.getpostman.com/view/6401823/SzKbLvH5?version=latest#13325605-4e44-4804-8593-4c9acbb0e929)

All endpoints have been tested via Postman.  I've also tested many of the endpoints via the official testing platform/method in Postman, past just making the request successfully in Postman via the 'tests' tab.

### Endpoints For Login / Registration

| Request Method | Endpoint         | Description                          |
| :------------- | :--------------- | :----------------------------------- |
| `POST`         | `/api/login`     | Logs user in and returns a token     |
| `POST`         | `/api/register`  | creates a student user               |

### Endpoints For Tickets

| Request Method | Endpoint                           | Description                              |
| :------------- | :--------------------------------- | :--------------------------------------- |
| `GET`          | `/api/tickets`                     | returns all tickets                      |
| `GET`          | `/api/tickets/queue`               | returns all tickets in queue             |
| `GET`          | `/api/tickets/resolved`            | returns all resolved tickets             |
| `GET`          | `/api/tickets/students/:studentid` | returns all tickets from a given student |
| `GET`          | `/api/tickets/helpers/:helperid`   | returns all tickets from a given helper  |
| `GET`          | `/api/tickets/:ticketsid`          | returns a ticket                         |
| `POST`         | `/api/tickets`                     | adds a ticket                            |
| `DELETE`       | `/api/tickets/:ticketsid`          | deletes a ticket                         |
| `PUT`          | `/api/tickets/:ticketsid`          | updates a ticket                         |

### Endpoints For Users

| Request Method | Endpoint                       | Description                                               |
| :------------- | :----------------------------- | :-------------------------------------------------------- |
| `GET`          | `/api/users/:usersid`          | returns a user (usersid, email, name)                     |
| `GET`          | `/api/users/helpers`           | returns list of helpers                                   |
| `GET`          | `/api/users/students`          | returns list of students                                  |
| `POST`         | `/api/users/students/:usersid` | adds a user as a student                                  |
| `POST`         | `/api/users/helpers/:usersid`  | adds a user as a helper                                   |
| `POST`         | `/api/users`                   | adds a user                                               |
| `DELETE`       | `/api/users/:usersid`          | deletes a user                                            |
| `PUT`          | `/api/users/:usersid`          | updates a user's basic information (usersid, email, name) |


### Endpoints For Statuses
 
| Request Method | Endpoint                    | Description                                       |
| :------------- | :-------------------------- | :------------------------------------------------ |
| `GET`          | `/api/statuses/:statusesid` | returns all statuses (statusesid & status fields) |
| `POST`         | `/api/statuses`             | adds a status                                     |
| `DELETE`       | `/api/statuses/:statusesid` | deletes a status                                  |
| `PUT`          | `/api/statuses/:statusesid` | updates a status                                  |

### Endpoints For Roles

| Request Method | Endpoint              | Description                                   |
| :------------- | :-------------------- | :-------------------------------------------- |
| `GET`          | `/api/roles/:rolesid` | returns all roles (rolesid & rolename fields) |
| `POST`         | `/api/roles`          | adds a role                                   |
| `DELETE`       | `/api/roles/:rolesid` | deletes a role                                |
| `PUT`          | `/api/roles/:rolesid` | updates a role                                |


#### Tickets Schema

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| ticketsid   | unsigned integer | primary key, auto-increments, generated by database |
| statusesid  | unsigned integer | foreign key referencing id in statuses table        |
| helperid    | unsigned integer | foreign key referencing id in users table           |
| studentid   | unsigned integer | foreign key referencing id in users table           |
| title       | string           | required                                            |
| description | string           | required                                            |
| category    | string           | required                                            |

#### Users Schema

| field    | data type        | metadata                                               |
| :------- | :--------------- | :--------------------------------------------------    |
| usersid  | unsigned integer | primary key, auto-increments, generated by database    |
| name     | string           | required,                                              |
| password | string           | required                                               |
| email    | string           | required, unique                                       |

#### Statuses Schema

| field      | data type        | metadata                                             |
| :--------  | :--------------- | :--------------------------------------------------- |
| statusesid | unsigned integer | primary key, auto-increments, generated by database  |
| status     | string           | required, string, unique                             |

#### Userroles Schema

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| usersid     | unsigned integer | primary foreign key referencing id in users table   |
| rolesid     | unsigned integer | primary foreign key referencing id in roles table   |

#### Roles Schema

| field    | data type        | metadata                                               |
| :------  | :--------------- | :--------------------------------------------------    |
| rolesid  | unsigned integer | primary key, auto-increments, generated by database    |
| rolename | string           | required, string, unique                               |
