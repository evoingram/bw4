# bw4 schema:  https://app.dbdesigner.net/designer/schema/308632

# BASE URL: **_ https://devdesk2eli.herokuapp.com/ _**

# PM Documentation: 
## **_ https://documenter.getpostman.com/view/6401823/SzKbLvH5?version=latest#13325605-4e44-4804-8593-4c9acbb0e929 _**

All endpoints have been tested via Postman.

### Endpoints For Login / Registration

| Request Method | Endpoint         | Description                          |
| :------------- | :--------------- | :----------------------------------- |
| `POST`         | `/api/login`     | Logs user in and returns a token     |
| `POST`         | `/api/register`  | creates a student user               |

### Endpoints For Tickets

| Request Method | Endpoint                           | Description                              |
| :------------- | :--------------------------------- | :--------------------------------------- |
| `GET`          | `/api/tickets`                     | returns all tickets                      |
| `GET`          | `/api/tickets/queue`               | returns all tickets in queue             |
| `GET`          | `/api/tickets/resolved`            | returns all resolved tickets             |
| `GET`          | `/api/tickets/students/:studentid` | returns all tickets from a given student |
| `GET`          | `/api/tickets/helpers/:helperid`   | returns all tickets from a given helper  |
| `GET`          | `/api/tickets/:ticketsid`          | returns a ticket                         |
| `POST`         | `/api/tickets`                     | adds a ticket                            |
| `DELETE`       | `/api/tickets/:ticketsid`          | deletes a ticket                         |
| `PUT`          | `/api/tickets/:ticketsid`          | updates a ticket                         |

### Endpoints For Users

| Request Method | Endpoint         | Description                                               |
| :------------- | :--------------- | :-------------------------------------------------------- |
| `GET`          | `/api/users/:id` | returns a user (usersid, email, name)                     |
| `POST`         | `/api/users`     | adds a user                                               |
| `DELETE`       | `/api/users/:id` | deletes a user                                            |
| `PUT`          | `/api/users/:id` | updates a user's basic information (usersid, email, name) |

### Endpoints For Statuses

| Request Method | Endpoint            | Description                                       |
| :------------- | :------------------ | :------------------------------------------------ |
| `GET`          | `/api/statuses/:id` | returns all statuses (statusesid & status fields) |
| `POST`         | `/api/statuses`     | adds a status                                     |
| `DELETE`       | `/api/statuses/:id` | deletes a status                                  |
| `PUT`          | `/api/statuses/:id` | updates a status                                  |

### Endpoints For Roles

| Request Method | Endpoint         | Description                                   |
| :------------- | :--------------- | :-------------------------------------------- |
| `GET`          | `/api/roles/:id` | returns all roles (rolesid & rolename fields) |
| `POST`         | `/api/roles`     | adds a role                                   |
| `DELETE`       | `/api/roles/:id` | deletes a role                                |
| `PUT`          | `/api/roles/:id` | updates a role                                |

** still working on endpoint for adding/removing student users as helpers; but right now if they're already in the system, they can be both.


#### Tickets Schema

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| ticketsid   | unsigned integer | primary key, auto-increments, generated by database |
| statusesid  | unsigned integer | foreign key referencing id in statuses table        |
| helperid    | unsigned integer | foreign key referencing id in users table           |
| studentid   | unsigned integer | foreign key referencing id in users table           |
| title       | string           | required                                            |
| description | string           | required                                            |
| category    | string           | required                                            |

#### Users Schema

| field    | data type        | metadata                                               |
| :------- | :--------------- | :--------------------------------------------------    |
| usersid  | unsigned integer | primary key, auto-increments, generated by database    |
| name     | string           | required,                                              |
| password | string           | required                                               |
| email    | string           | required, unique                                       |

#### Statuses Schema

| field      | data type        | metadata                                             |
| :--------  | :--------------- | :--------------------------------------------------- |
| statusesid | unsigned integer | primary key, auto-increments, generated by database  |
| status     | string           | required, string, unique                             |

#### Userroles Schema

| field       | data type        | metadata                                            |
| :---------- | :--------------- | :-------------------------------------------------- |
| usersid     | unsigned integer | primary foreign key referencing id in users table   |
| rolesid     | unsigned integer | primary foreign key referencing id in roles table   |

#### Roles Schema

| field    | data type        | metadata                                               |
| :------  | :--------------- | :--------------------------------------------------    |
| rolesid  | unsigned integer | primary key, auto-increments, generated by database    |
| rolename | string           | required, string, unique                               |
